// Generated by CoffeeScript 1.10.0
(function() {
  var _, balance;

  _ = require("lodash");

  balance = require("./crypto-balance");

  module.exports.run = function() {
    var addr;
    addr = process.argv[2];
    if (!addr) {
      console.log("Usage: balance <address>");
      process.exit(1);
    }
    return balance(addr).then(function(items) {
      var i, item, len;
      for (i = 0, len = items.length; i < len; i++) {
        item = items[i];
        if (item.status === 'success' && item.quantity !== void 0) {
          console.log(item.quantity + " " + item.asset);
        } else {
          console.error(_.merge(item, {
            raw: "[object]"
          }));
        }
      }
      return process.exit(0);
    })["catch"](function(error) {
      console.error(error);
      return process.exit(1);
    });
  };

}).call(this);
